<h2>アカウント編集</h2>

<% if params[:id].present? %>
  <!-- 他のユーザーを編集している場合 -->
  <%= render "form", resource: resource, edit_mode: true, url: update_other_user_registration_path(resource), method: :patch %>
<% else %>
  <!-- 自分のアカウントを編集している場合 -->
  <%= render "form", resource: resource, edit_mode: true, url: registration_path(resource), method: :put %>
<% end %>

<% if current_user.administrator? && resource != current_user %>
  <h3>アカウント削除</h3>

  <% if params[:id].present? %>
    <!-- 他のユーザーを編集している場合 -->
    <p>アカウントを削除しますか？ <%= button_to "アカウントを削除", delete_other_user_registration_path(resource), data: { confirm: "本当に削除しますか？" }, method: :delete, class: "btn btn-danger" %></p>
  <% end %>
<% end %>